\section{Implementation}\label{sec:implementation}

\superfluid is a programming language with dependent types, $\univ : \univ$,
quantities, inductive families and dependent pattern matching. Its compiler is
written in Haskell and the compilation target is JavaScript. Dependent pattern
matching in \superfluid is elaborated to a core language with internal
eliminators. The $\R$ transformation is then applied to the core program, which
erases all inductive constructs with defined representations. This is finally
translated to JavaScript, erasing all irrelevant data. As a result, we are able
to represent $\datalab{Nat}$ as JavaScript's $\primlab{BigInt}$, and
$\datalab{List}\ T$/$\datalab{SnocList}\ T$/$\datalab{Vec}\ T\ n$ as
JavaScript's arrays with the appropriate index refinement, such that we can
convert between them without any runtime overhead.
